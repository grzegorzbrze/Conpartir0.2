
<section id="account" class="home-section color-dark text-center bg-gray" ng-init="onLoad()">
    <div class="container">
    <div class="row">
        <div class="col-sm-8 col-sm-offset-2 col-md-8 col-md-offset-2 col-lg-8 col-lg-offset-2">
            <div class="wow flipInY" data-wow-offset="0" data-wow-delay="0.4s">
                <div class="section-heading text-center">
                    <h2 class="h-bold">Area Personale</h2>
                    <div class="divider-header"></div>
                    <p>Ciao {{clientInfo.name}}. Qui puoi rivedere le informazioni relative al tuo account. </p>
                </div>
            </div>
        </div>
    </div>
    </div>
    <div class="container margintop-20">
        <div class="container">
            <div class="row">  
                <div class="col-lg-4"> 
                 <img id="foto" src="{{clientInfo.urlPhoto}}" alt="user image">
                </div>
                 
                <div class="col-lg-6 col-lg-offset-1">
                    <div class="row">
                    <!--    <button type="button" class="btn btn-skin btn-lg" data-toggle="modal" data-target="#modalModify">
                            Modifica il profilo.      </button>     
                        <button type="button" class="btn btn-skin btn-lg" data-toggle="modal" data-target="#modalPost">
                            Offri un passaggio.           </button> -->
                        <button type="button" class="btn btn-skin" data-toggle="modal" data-target="#modalModify"> Modifica il profilo. </button> 
                        <button type="button" class="btn btn-skin" data-toggle="modal" data-target="#modalPost"> Offri un passaggio. </button> <p></p>
                    </div>
                    <div class="row margintop-10">
                        <h6 ng-hide="commentAlert">Il tuo punteggio medio utente è di {{feedbackAvgRate}} stars</h6>
                    </div>
                    <div class="row margintop-10"> 
                        <span ng-show="isGmail"> Account collegato con Gmail. <a ng-click="gmailUnlink()" class="">Vuoi scollegarlo?</a> </span>
                        <span ng-hide="isGmail"> Account non collegato con Gmail. <a data-toggle="modal" data-target="#modalGmail">Vuoi collegarlo?</a> </span>
                        <p></p>
                        <span ng-show="isTwitter"> Account collegato con Twitter. <a ng-click="twitterUnlink()" class="">Vuoi scollegarlo?</a> </span>
                        <span ng-hide="isTwitter"> Account non collegato con Twitter. <a data-toggle="modal" data-target="#modalTwitter">Vuoi collegarlo?</a> </span>
                    </div>
                    <div class="row margintop-10">
                        <span ng-hide="commentAlert">Punteggio medio: {{feedbackAvgRate}}</span>
                    </div>
            </div> 
        </div>
    </div>
     <div class="container margintop-20">
        <div class="container">
            <div class="proj-account row  margintop-20">
                <div role="tabpanel">
                        <!-- Nav tabs -->
                        <ul class="nav nav-tabs" role="tablist">
                            <li role="presentation" class="active"><a aria-controls="home" role="tab" data-toggle="tab"  ng-click="tab('self')">Info Personali</a></li>
                            <li role="presentation"><a aria-controls="profile" role="tab" data-toggle="tab"  ng-click="tab('cars')">Info Veicolo</a></li>
                            <li role="presentation"><a aria-controls="messages" role="tab" data-toggle="tab"  ng-click="tab('feed')">Storico Feedback</a></li>
                        </ul>
                        <!-- Tab panes -->
                        <div class="tab-content bg-white">
                            <div role="tabpanel" id="profile" ng-show="show[0]">
                            <div class="row">    
                                <dl class="dl-horizontal margintop-10" ng-model="clientInfo">                                     
                                <dt>Nome e Cognome</dt>
                                <dd>{{clientInfo.name}} {{clientInfo.surname}}</dd>
                                <dt>Sesso</dt>
                                <dd>{{clientInfo.gender}}</dd>
                                <dt>Età:</dt>
                                <dd>{{clientInfo.age}} anni</dd>
                                <dt>Email</dt>
                                <dd>{{clientInfo.email}}</dd>
                                </dl>
                            </div>    
                            </div>
                            <div role="tabpanel"  id="carProfile" ng-show="show[1]">
                                <div class="row"> 
                                <div class="btn-group margintop-10"  ng-show="isArray" role="group" aria-label="...">
                                    <button type="button" ng-repeat="item in driversInfo" class="btn btn-skin" ng-click="carInfo(item.driver_id)">{{item.carModel}}</button>
                                </div>                        
                                <p></p>   
                                <dl class="dl-horizontal" ng-model="selectedCar">
                                <dt>Modello:</dt>
                                <dd>{{selectedCar.carModel}}</dd>
                                <dt>Anno:</dt>
                                <dd>{{selectedCar.carYear}}</dd>
                                </dl>  
                                <a href="#account" data-toggle="modal" data-target="#modalAddCar"> Aggiungi una macchina al tuo profilo</a> <i class="glyphicon glyphicon-question-sign" href="#account" ng-click="alert()" data-toggle="modal" data-target="#modalInfo"></i>
                                </div> 
                            </div>
                            <div role="tabpanel" id="feedback" ng-show="show[2]">                                
                                <div class="row"> 
                                    <dl class="dl-horizontal margintop-10" ng-repeat="commenti in commentInfo">                           
                                        <dt>Autore:</dt>
                                        <dd>{{commenti.nomeAutore}} {{commenti.cognomeAutore}}</dd>
                                        <dt>Testo:</dt>
                                        <dd>{{commenti.testoCommento}}</dd>
                                        <dt> Feedback </dt>
                                        <dd> {{commenti.feedBackCommento}}</dd>                        
                                    </dl>
                                    <br>
                                    <span class="margintop-10 marginbot-10" ng-show="commentAlert" > Sembra che nessuno abbia ancora lasciato un commento su di te.</span>
                                </div>
                            </div>
                        </div>
                </div>
            </div>
        </div>
    </div>   
</section>
<!-- /account -->
<!-- Travels -->
<section id="travels" class="home-section color-dark text-center bg-darkgray">
   
    <div class="container">
    <div class="row">
        <div class="col-sm-8 col-sm-offset-2 col-md-8 col-md-offset-2 col-lg-8 col-lg-offset-2">
            <div class="wow flipInY" data-wow-offset="0" data-wow-delay="0.4s">
                <div class="section-heading text-center">
                    <h3 class="h-bold">Viaggi e Prenotazioni</h3> 
                    <div class="divider-header"></div>                    
                </div>
            </div>
        </div>
    </div>
    </div>
    <div class="container margintop-20">
        <div class="row">
            <span class="">Vuoi lasciare un commento su un altro utente? Seleziona uno dei viaggi passati per iniziare.</span>
        </div>
        <div class="row">
            <div class="radio-inline-panel">
                <label class="radio-inline" ><input type="checkbox"  ng-value="true" ng-model="showPastTravels" ng-change="changeTravelsView()"/>Mostra viaggi passati</label>
                <label class="radio-inline" ><input type="checkbox"  ng-value="true" ng-model="showNextTravels" ng-change="changeTravelsView()"/>Mostra viaggi futuri</label>
            </div>
        </div>
    <div ng-show="ready" class="row">
        <div class="col-sm-8 col-sm-offset-2 col-md-8 col-md-offset-2 col-lg-8 col-lg-offset-2 scrollable-content" ng-show="showBooked"> 
            <h4>Viaggi Prenotati:</h4>
            <a ng-repeat=" item in bookedTravels" class="list-group col-md-12 center">
                <div class="col-md-1 list-group-item"><i class="glyphicon glyphicon-road"></i></div> 
                <div class="col-md-11 list-group-item" ng-click="go(item,1)"> Viaggio a {{item.destination}} del {{getDay(item.data)}} </div>  
            </a>
            <a ng-repeat=" item in bookedTaxis" class="list-group col-md-12 center">
                <div class="col-md-1 list-group-item"><i class="glyphicon glyphicon-time"></i></div> 
                <div class="col-md-11 list-group-item" ng-click="go(item,2)"> Taxi a {{item.destination}} del {{getDay(item.data)}} </div>  
            </a>
        </div>
        <div  class="col-sm-8 col-sm-offset-2 col-md-8 col-md-offset-2 col-lg-8 col-lg-offset-2 scrollable-content" ng-show="showPosted" style="margin-top: 40px">
            <h4>Viaggi Postati:</h4>
            <a ng-repeat=" item in postedTravels" class="list-group col-md-12 center">
                <div class="col-md-1 list-group-item"><i class="glyphicon glyphicon-road"></i></div> 
                <div class="col-md-11 list-group-item" ng-click="go(item,1)"> Viaggio a {{item.destination}} del {{getDay(item.data)}} </div>  
            </a>
            <a ng-repeat=" item in postedTaxis" class="list-group col-md-12 center">
                <div class="col-md-1 list-group-item"><i class="glyphicon glyphicon-time"></i></div> 
                <div class="col-md-11 list-group-item" ng-click="go(item,2)"> Taxi a {{item.destination}} del {{getDay(item.data)}} </div>  
            </a>
        </div>
    </div>    
    </div>
</section>
    <!-- /Travels -->
    


